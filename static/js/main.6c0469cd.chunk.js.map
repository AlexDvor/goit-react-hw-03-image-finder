{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","utils/fetchImage.js","components/Searchbar/Searchbar.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","App.js","utils/scroll.js","index.js"],"names":["ImageGalleryItem","webImage","onSelect","largeUrl","className","onClick","src","alt","ImageGallery","images","selectImg","map","item","webformatURL","largeImageURL","id","Api","fetchImages","nameImg","pageNumber","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","state","name","handleChange","e","value","target","setState","handleSubmitForm","preventDefault","queryValue","props","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","Button","styled","button","LoadMoreButton","Wrapper","div","Spinner","color","height","width","Overlay","ContentModal","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackDropClick","currentTarget","window","addEventListener","removeEventListener","children","createPortal","App","queryName","page","loading","selectImage","getQueryValue","clickMoreBtn","prevState","closeModal","handleSelectImg","url","prevProps","res","hits","finally","scrollTo","top","documentElement","scrollHeight","behavior","resetPage","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6c0469cd.chunk.js","sourcesContent":["function ImageGalleryItem({ webImage, onSelect, largeUrl }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={() => onSelect(largeUrl)}>\r\n      <img src={webImage} alt=\"\" className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ images, selectImg }) {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(item => (\r\n        <ImageGalleryItem\r\n          key={item.id}\r\n          webImage={item.webformatURL}\r\n          largeUrl={item.largeImageURL}\r\n          onSelect={selectImg}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","function fetchImages(nameImg, pageNumber) {\n  const URL = 'https://pixabay.com/api';\n  const KEY = '22579303-973b9b71134c76d3c38c0933d';\n\n  return fetch(\n    `${URL}/?q=${nameImg}&page=${pageNumber}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`Мы не нашли такой картинки по имени ${nameImg}`));\n  });\n}\n\nconst Api = {\n  fetchImages,\n};\n\nexport default Api;\n","import { Component } from 'react';\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    name: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    const value = e.target.value;\r\n    this.setState({\r\n      name: value,\r\n    });\r\n  };\r\n\r\n  handleSubmitForm = e => {\r\n    e.preventDefault();\r\n    if (this.state.name !== '') {\r\n      const queryValue = this.state.name;\r\n      this.props.onSubmit(queryValue);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { handleChange, handleSubmitForm } = this;\r\n    return (\r\n      <>\r\n        <header className=\"Searchbar\">\r\n          <form onSubmit={handleSubmitForm} className=\"SearchForm\">\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              value={this.state.name}\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={handleChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Button = styled.button`\r\n  display: block;\r\n  margin: 20px auto 20px auto;\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14),\r\n    0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import { Button } from './Button.styled';\r\n\r\nfunction LoadMoreButton({ onClick }) {\r\n  return (\r\n    <>\r\n      <Button onClick={onClick}>Load More</Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LoadMoreButton;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Wrapper = styled.div`\r\n  position: fixed;\r\n  top: 96vh;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n","import Loader from 'react-loader-spinner';\r\nimport { Wrapper } from './Loader.styled';\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <Wrapper>\r\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(4 4 4 / 59%);\r\n\r\n  opacity: 1;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1),\r\n    visibility 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n`;\r\n\r\nexport const ContentModal = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  max-width: 1200px;\r\n  max-height: 100vh;\r\n  width: 100%;\r\n  /* padding: 40px; */\r\n  background-color: #ffffff;\r\n  /* overflow-y: auto; */\r\n\r\n  transform: translate(-50%, -50%) scale(1);\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n`;\r\n","import { Component } from 'react';\r\nimport { Overlay, ContentModal } from './Modal.styled';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackDropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { handleBackDropClick } = this;\r\n    return createPortal(\r\n      <>\r\n        <Overlay onClick={handleBackDropClick}>\r\n          <ContentModal>{children}</ContentModal>\r\n        </Overlay>\r\n      </>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Api from './utils/fetchImage';\n// Components\nimport { Searchbar } from './components/Searchbar/Searchbar';\nimport LoadMoreButton from './components/Button/Button';\n// utils\nimport Spinner from './components/Loader/Loader';\nimport { scroll } from './utils/scroll';\nimport Modal from './components/Modal/Modal';\n\nclass App extends Component {\n  state = {\n    queryName: '',\n    images: [],\n    page: 1,\n    loading: false,\n    selectImage: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const DEFAULT_PAGE = 1;\n    const { queryName, page } = this.state;\n\n    if (prevState.queryName !== queryName) {\n      this.setState({ loading: true });\n\n      Api.fetchImages(queryName, DEFAULT_PAGE)\n        .then(res => this.setState({ images: res.hits }))\n        .finally(() => this.setState({ loading: false }));\n    }\n\n    if (prevState.page !== page) {\n      if (page !== DEFAULT_PAGE) {\n        this.setState({ loading: true });\n\n        Api.fetchImages(queryName, page)\n          .then(res => this.setState(prevState => ({ images: [...prevState.images, ...res.hits] })))\n          .then(() => scroll())\n          .finally(() => this.setState({ loading: false }));\n      }\n    }\n\n    if (prevState.queryName !== queryName) {\n      this.resetPage();\n    }\n  }\n\n  getQueryValue = name => {\n    this.setState({\n      queryName: name,\n    });\n  };\n\n  resetPage() {\n    this.setState({\n      images: [],\n      page: 1,\n    });\n  }\n\n  clickMoreBtn = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState({\n      selectImage: null,\n    });\n  };\n\n  handleSelectImg = url => {\n    this.setState({\n      selectImage: url,\n    });\n  };\n\n  render() {\n    const { loading, images, selectImage, queryName } = this.state;\n    const { clickMoreBtn, getQueryValue, handleSelectImg } = this;\n    return (\n      <>\n        <Searchbar onSubmit={getQueryValue}></Searchbar>\n\n        {loading && <Spinner />}\n\n        <ImageGallery images={images} selectImg={handleSelectImg} />\n\n        {images.length > 0 && !loading && <LoadMoreButton onClick={clickMoreBtn} />}\n\n        {selectImage && (\n          <Modal onClose={this.closeModal}>\n            <img src={selectImage} alt={queryName} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","export function scroll() {\n  window.scrollTo({\n    top: document.documentElement.scrollHeight,\n    behavior: 'smooth',\n  });\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}