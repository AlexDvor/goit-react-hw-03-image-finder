(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),i=n(11),s=n(5),l=n(6),u=n(8),h=n(7),m=n(1);var d=function(e){var t=e.webImage,n=e.onSelect,a=e.largeUrl;return Object(m.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return n(a)},children:Object(m.jsx)("img",{src:t,alt:"",className:"ImageGalleryItem-image"})})};var b=function(e){var t=e.images,n=e.selectImg;return Object(m.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return Object(m.jsx)(d,{webImage:e.webformatURL,largeUrl:e.largeImageURL,onSelect:n},e.id)}))})};var p,g={fetchImages:function(e,t){return fetch("".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("22579303-973b9b71134c76d3c38c0933d","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041c\u044b \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0442\u0430\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u043f\u043e \u0438\u043c\u0435\u043d\u0438 ".concat(e)))}))}},f=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={name:""},e.handleChange=function(t){var n=t.target.value;e.setState({name:n})},e.handleSubmitForm=function(t){if(t.preventDefault(),""!==e.state.name){var n=e.state.name;e.props.onSubmit(n)}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.handleChange,t=this.handleSubmitForm;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("header",{className:"Searchbar",children:Object(m.jsxs)("form",{onSubmit:t,className:"SearchForm",children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(m.jsx)("input",{value:this.state.name,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:e})]})})})}}]),n}(a.Component),j=n(3),x=n(4),v=x.a.button(p||(p=Object(j.a)(["\n  display: block;\n  margin: 20px auto 20px auto;\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n"])));var y,O=function(e){var t=e.onClick;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(v,{onClick:t,children:"Load More"})})},S=n(13),w=n.n(S),k=x.a.div(y||(y=Object(j.a)(["\n  position: fixed;\n  top: 96vh;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));var I,C,F=function(){return Object(m.jsx)(k,{children:Object(m.jsx)(w.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})};var N=x.a.div(I||(I=Object(j.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(4 4 4 / 59%);\n  z-index: 10;\n\n  opacity: 1;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1),\n    visibility 250ms cubic-bezier(0.4, 0, 0.2, 1);\n"]))),q=x.a.div(C||(C=Object(j.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  max-width: 1200px;\n  max-height: 100vh;\n  width: 100%;\n  /* padding: 40px; */\n  background-color: #ffffff;\n  /* overflow-y: auto; */\n\n  transform: translate(-50%, -50%) scale(1);\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n"]))),D=document.querySelector("#modal-root"),z=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackDropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.children,t=this.handleBackDropClick;return Object(o.createPortal)(Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(N,{onClick:t,children:Object(m.jsx)(q,{children:e})})}),D)}}]),n}(a.Component),M=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={queryName:"",images:[],page:1,loading:!1,selectImage:null},e.getQueryValue=function(t){e.setState({queryName:t})},e.clickMoreBtn=function(){e.setState((function(e){return{page:e.page+1}}))},e.closeModal=function(){e.setState({selectImage:null})},e.handleSelectImg=function(t){e.setState({selectImage:t})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.state,r=a.queryName,o=a.page;t.queryName!==r&&(this.setState({loading:!0}),g.fetchImages(r,1).then((function(e){return n.setState({images:e.hits})})).finally((function(){return n.setState({loading:!1})}))),t.page!==o&&1!==o&&(this.setState({loading:!0}),g.fetchImages(r,o).then((function(e){return n.setState((function(t){return{images:[].concat(Object(i.a)(t.images),Object(i.a)(e.hits))}}))})).then((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).finally((function(){return n.setState({loading:!1})}))),t.queryName!==r&&this.resetPage()}},{key:"resetPage",value:function(){this.setState({images:[],page:1})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.images,a=e.selectImage,r=e.queryName,o=this.clickMoreBtn,c=this.getQueryValue,i=this.handleSelectImg;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{onSubmit:c}),t&&Object(m.jsx)(F,{}),Object(m.jsx)(b,{images:n,selectImg:i}),n.length>0&&!t&&Object(m.jsx)(O,{onClick:o}),a&&Object(m.jsx)(z,{onClose:this.closeModal,children:Object(m.jsx)("img",{src:a,alt:r})})]})}}]),n}(a.Component);n(43);c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(M,{})}),document.getElementById("root")),c.a.render(Object(m.jsx)(M,{}),document.querySelector("#root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.df554df3.chunk.js.map